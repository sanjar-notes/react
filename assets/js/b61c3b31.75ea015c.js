"use strict";(self.webpackChunkreactjs_notes_docu=self.webpackChunkreactjs_notes_docu||[]).push([[3266],{9613:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(9496);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),m=a,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return r?n.createElement(f,o(o({ref:t},c),{},{components:r})):n.createElement(f,o({ref:t},c))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9393:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var n=r(1163),a=(r(9496),r(9613));const i={},o="106. Refs",l={unversionedId:"home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/Refs",id:"home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/Refs",title:"106. Refs",description:"Created Friday 4 March 2022",source:"@site/docs/home/4_resource_itineraries/2_React_the_complete_guide/9_Fragments,_Portals,_Refs/106_Refs.md",sourceDirName:"home/4_resource_itineraries/2_React_the_complete_guide/9_Fragments,_Portals,_Refs",slug:"/home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/Refs",permalink:"/docs/home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/Refs",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/home/4_resource_itineraries/2_React_the_complete_guide/9_Fragments,_Portals,_Refs/106_Refs.md",tags:[],version:"current",sidebarPosition:106,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"105. Portals",permalink:"/docs/home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/Portals"},next:{title:"107. Controlled and uncontrolled components",permalink:"/docs/home/resource_itineraries/React_the_complete_guide/Fragments,_Portals,_Refs/controlled_vs_uncontrolled_components"}},s={},u=[{value:"Why",id:"why",level:3},{value:"How",id:"how",level:3},{value:"What",id:"what",level:3},{value:"Where are refs used ?",id:"where-are-refs-used-",level:4}],c={toc:u},d="wrapper";function p(e){let{components:t,...i}=e;return(0,a.kt)(d,(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"106-refs"},"106. Refs"),(0,a.kt)("p",null,"Created Friday 4 March 2022"),(0,a.kt)("ul",{className:"contains-task-list"},(0,a.kt)("li",{parentName:"ul",className:"task-list-item"},(0,a.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","in vault")),(0,a.kt)("h3",{id:"why"},"Why"),(0,a.kt)("p",null,"Refs (short for references) is a way to access DOM nodes directly in React. It is used to read, and rarely, write to DOM nodes. It is especially useful in forms where we need to read ",(0,a.kt)("inlineCode",{parentName:"p"},"input")," elements for values on submission."),(0,a.kt)("h3",{id:"how"},"How"),(0,a.kt)("p",null,"There are 3 parts to the code:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Declare the ref variable."),(0,a.kt)("li",{parentName:"ol"},'Tag the ref variable to the HTML element being monitored (being "referenced" \ud83d\udc40).'),(0,a.kt)("li",{parentName:"ol"},"Write code that reads, writes to using the ref. Note, this should be outside of any JSX. WHY? FIXME.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The ref variable has a property called ",(0,a.kt)("inlineCode",{parentName:"li"},"current")," whose value is an object with name-values being element attributes (including ",(0,a.kt)("inlineCode",{parentName:"li"},"value")," for ",(0,a.kt)("inlineCode",{parentName:"li"},"input"),"s). In short all attributes are present in ",(0,a.kt)("inlineCode",{parentName:"li"},"refVariable.current"),".\n",(0,a.kt)("img",{src:r(1558).Z,width:"786",height:"246"})),(0,a.kt)("li",{parentName:"ul"},"The ref variable can be read/written from/into, and this will reflect in the component on the page.")),(0,a.kt)("p",null,"Here's an example with the 3 code parts:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { useRef } from 'react';\n\nfunction MyComponent {\n  const refVariable = useRef(); // 1 - no argument passed\n\n  const onSubmitHandler = () => {\n    event.preventDefault();\n    // 3 - reading/writing from/to the refVariable, and hence to the DOM\n\n    getFromRocket(refVariable.current.value);\n\n    refVariable.current.value = ''; // clearing the input\n  }\n\nreturn (<div>\n          ...\n          <form>\n            <input ... ref={refVariable} /> \x3c!-- 2 - HTML element tagged--\x3e\n            ...\n            </form>\n            ...\n        </div>);\n};\n\nexport default MyComponent;\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/exemplar-codes/react-hello-world/tree/5a83a92598ad832fb882a43ede103946b9815458/src/Apps/UseRefDemo"},"Need and derivation")," of the ",(0,a.kt)("inlineCode",{parentName:"li"},"useRef")," hook.")),(0,a.kt)("h3",{id:"what"},"What"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Note that using ",(0,a.kt)("inlineCode",{parentName:"li"},"useRef")," does not re-render the page, unlike ",(0,a.kt)("inlineCode",{parentName:"li"},"useState")," which does re-render."),(0,a.kt)("li",{parentName:"ul"},"The lifetime of the ",(0,a.kt)("inlineCode",{parentName:"li"},"useRef")," variable is the same as the component's lifetime."),(0,a.kt)("li",{parentName:"ul"},"Although, the ",(0,a.kt)("inlineCode",{parentName:"li"},"useRef")," variable can be used mutate the DOM, this must be avoided as much as possible (WHY? FIXME). Clearing ",(0,a.kt)("inlineCode",{parentName:"li"},"input")," value is OK though, as we are not creating/deleting DOM nodes.")),(0,a.kt)("h4",{id:"where-are-refs-used-"},"Where are refs used ?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"refs are very handy for forms or for reading stuff from the DOM."),(0,a.kt)("li",{parentName:"ul"},"refs have helped in eliminating state based input reading mechanisms that would change on every keystroke (using ",(0,a.kt)("inlineCode",{parentName:"li"},"onChange"),"). Using ",(0,a.kt)("inlineCode",{parentName:"li"},"useState")," is also OK, but ",(0,a.kt)("inlineCode",{parentName:"li"},"useRef")," is better suited here.")))}p.isMDXComponent=!0},1558:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/106_Refs-image-1-699dfa4563962b944506306a9cead17c.png"}}]);